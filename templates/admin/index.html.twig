{% extends 'base.html.twig' %}

{% block title %} Administration du blog {% endblock %}

{% block body %}
    <h3 class="h3 mt-3 text-left">Administration du blog</h3>

    <section class="text-left">
        <h4 class="text-left h4 mt-3">Droits des utilisateurs</h4>

        <small class="small font-italic">Il y a {{ allUsers | length }} utilisateurs enregistr√©s.</small>

        <div class="row">

            <table class="col-12 table table-hover mt-3">
                <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Nom</th>
                    <th scope="col">Mail</th>
                    <th scope="col">Admin</th>
                    <th scope="col">User</th>
                    <th scope="col">Valider</th>
                </tr>
                </thead>
                <tbody>
                {% for user in users %}
                    <tr class="table-primary">
                        <th scope="row">{{ user.id }}</th>
                        <td>{{ user.username }}</td>
                        <td>{{ user.email }}</td>
                        <form method="post" action="{{ path('admin_show') }}" name="">
                            <td>
                                <input type="checkbox"
                                       value="ROLE_ADMIN"
                                       name="role1"
                                        {% if user.role('ROLE_ADMIN') %}
                                            checked
                                        {% endif %}
                                >
                            </td>
                            <td>
                                <input type="checkbox"

                                       value="ROLE_USER"
                                       name="role2"
                                        {% if user.role('ROLE_USER') %}
                                            checked
                                        {% endif %}
                                >
                            </td>
                            <td>
                                <button type="submit" class="btn btn-danger">Valider</button>
                            </td>
                            <input type="hidden" name="idUser" value="{{ user.id }}">
                        </form>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </section>
    <div class="offset-3 col-6">
        {{ knp_pagination_render(users, 'bootstrap-pagination/twitter_bootstrap_v4_pagination.html.twig') }}
    </div>



{% endblock %}
